<!DOCTYPE html>
<html lang="en"><head>
<script src="Lab_1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lab_1_files/libs/quarto-html/tabby.min.js"></script>
<script src="Lab_1_files/libs/quarto-html/popper.min.js"></script>
<script src="Lab_1_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Lab_1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lab_1_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Lab_1_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <meta name="author" content="Fabio Setti">
  <title>Lab 1: Introduction to R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Lab_1_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Lab_1_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="Lab_1_files/libs/revealjs/dist/theme/quarto-391e43b3eed944a2e2259324e88f92d2.css">
  <link href="Lab_1_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Lab_1_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Lab_1_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Lab_1_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Lab_1_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Lab_1_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="Fabio_theme/Fabio_theme.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-transition="zoom" data-visibility="uncounted" class="quarto-title-block center">
  <h1 class="title">Lab 1: Introduction to R</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Fabio Setti 
</div>
        <p class="quarto-title-affiliation">
            PSYC 6802 - Introduction to Psychology Statistics
          </p>
    </div>
</div>

</section>
<section id="r-and-rstudio" class="slide level2">
<h2>R and Rstudio?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<center>
<p>To start, it’s good to point out that <strong>R</strong> and <strong>RStudio</strong> are two different things</p>
<p>R:</p>
<p><img data-src="Additional%20files/images/R_logo.png" style="width:30.0%"></p>
<p>RStudio:</p>
<p><img data-src="Additional%20files/images/Rstudio-logo.png" style="width:30.0%"></p>
</center>
</div><div class="column" style="width:50%;">
<p><img data-src="Additional%20files/images/R_Rstudio_confused.png"></p>
</div></div>
</section>
<section id="what-is-r" class="slide level2">
<h2>What is R?</h2>
<p><img data-src="Additional%20files/images/R_logo.png" class="absolute" style="top: -35px; right: -50px; width: 120px; height: 80px; "></p>
<p style="font-size:32px;">
<strong>R</strong> (<a href="https://www.r-project.org/about.html" target="_blank">https://www.r-project.org/about.html</a>) is a <em>programming language</em> originally designed for statistical computing and data visualization.
</p>
<div class="fragment fade-in" data-fragment-index="1">
<p style="font-size:32px;">
Thanks to the contribution of many users, nowadays R is quite similar to python (<a href="https://www.python.org" target="_blank">https://www.python.org</a>) in what it allows you to do.
</p>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<center>
<p style="font-size:32px;">
There exist <em>many</em> programming languages and some do something better than others.
</p>
<p><br></p>
<p style="font-size:32px;">
R works pretty well for data analysis and visualization and that’s why we use it 🤷
</p>
</center>
</div><div class="column" style="width:50%;">
<figure>
<img src="Additional files/images/Programming_languages.jpg" alt="Programming Languages" style="max-width:100%;">
<figcaption>
Some popular programming languages
</figcaption>
</figure>
</div></div>
</section>
<section id="what-is-rstudio" class="slide level2">
<h2>What is RStudio?</h2>
<img data-src="Additional%20files/images/Rstudio-logo.png" class="absolute" style="top: -35px; right: -50px; width: 120px; height: 100px; ">
<p style="font-size:32px;">
Whereas R is a programming language, <strong>RStudio</strong> is an <em>integrated development environment</em> (IDE…a what? 😕)
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment" data-fragment-index="1">
<p style="font-size:32px;">
An IDE is software that facilitates writing code in general. Although <strong>RStudio</strong> was developed with <strong>R</strong> in mind, it also supports many other programming languages (e.g., Python, Javascript, C…)
</p>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment" data-fragment-index="2">
<p style="font-size:32px;">
Likewise, you do not need <strong>RStudio</strong> to use <strong>R</strong>. However, <strong>RStudio</strong> is by far the best IDE for coding in <strong>R</strong> and it makes the process much more efficient!
</p>
</div>
</div></div>
<p><br></p>
<p style="font-size:32px;">
The people who make RStudio (<a href="https://posit.co/download/rstudio-desktop" target="_blank">https://posit.co/download/rstudio-desktop</a>) have no affiliation with the people who make R as far as I know.
</p>
</section>
<section id="coding" class="slide level2">
<h2>Coding</h2>
<p>To use R properly you will have to learn how to <em>code</em> (which may sound a bit scary 😟). Coding is like learning a foreign language: There is grammar and there is a logic to how you construct sentences. The exact same is true for programming <em>languages</em>. There is a lot I could say here, but just some advice:</p>
<div class="columns">
<div class="column" style="width:33%;">
<p><strong>Errors and Mistakes:</strong> Your code (my code too!) will almost never work perfectly the first time around. Do not get frustrated; understand <em>why</em> your code does not work. Making mistakes over and over and fixing them is how your learn.</p>
</div><div class="column" style="width:33%;">
<p><strong>Understand Your Code:</strong> Do not copy and paste code without understanding what it does. This may work for some of the assignments in this course, but it will eventually lead to <em>huge</em> mistakes when you are doing research on your own.</p>
</div><div class="column" style="width:33%;">
<p><strong>Taking Shortcuts:</strong> There are many shortcuts you can take to write code (e.g., chatGPT). I <em>strongly discourage</em> using AI assistance to write code <u>if you are new to coding</u>. AI code may be wrong (or it may not be what you want), and you first need to develop the knowledge to know when and why code is wrong.</p>
</div></div>
<p>If you have code problems, I recommend Googling your question and looking for other humans who have answered it (usually on <a href="https://stackoverflow.com" target="_blank">https://stackoverflow.com</a>)</p>
</section>
<section id="rstudio-what-am-i-looking-at" class="slide level2">
<h2>RStudio: What Am I looking at?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>The RStudio interface is divided into <strong>4 panes</strong>:</p>
<ul style="font-size: 26px;">
<div class="fragment fade-in" data-fragment-index="1">
<li>
<strong>Source</strong> (top-left): This pane is where we will do most of our work. Here is were you can edit and run your code files (<em>scripts</em>).
</li>
</div>
<div class="fragment fade-in" data-fragment-index="2">
<li>
<strong>Environment</strong> (top-right): This is where you can find the <em>objects</em> that are present in the current R session.
</li>
</div>
<div class="fragment fade-in" data-fragment-index="3">
<li>
<strong>Console</strong> (bottom-left): The console is actually R by itself (the R console) and it is how RStudio runs R. You will find <em>output</em>, <em>messages</em>, and <em>warnings</em> here.*
</li>
</div>
<div class="fragment fade-in" data-fragment-index="4">
<li>
<strong>Viewer</strong> (bottom-right): This is a bit of a catch-all pane. Here, you will find plots, installed <em>packages</em>, help for <em>functions</em>, and your computer folders (under <em>files</em>)
</li>
</div>
</ul>
<div class="fragment fade-in" data-fragment-index="4">
<div style="font-size: 22px">
(You can customize where your panes are. I usually swap the position of the console and environment)
</div>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="Additional%20files/images/RStudio_empty.png"></p>
<div class="fragment fade-in" data-fragment-index="3">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>*More about the “Console”</strong></p>
</div>
<div class="callout-content">
<p style="font-size:14px">
You can actually write and run code directly in the console, but you cannot save your code (which you should always do!). When you run your code from the Source pane, RStudio sends it to the console to be interpreted. All computer code is just plain text; what you need to run code of a certain computer language is to have something that interprets it and runs it. The R console is what interprets and runs your code (Hence why you need to have R on your computer to use R in RStudio)
</p>
</div>
</div>
</div>
</div>
</div></div>
</section>
<section id="creating-an-r-script" class="slide level2">
<h2>Creating an R Script</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Before we can do any coding, we need to open a new R script! You can open a new R script by following the steps in the image on the right, or by using pressing <strong>Cmd + Shift + N</strong> (Mac) or <strong>Ctrl + Shift + N</strong> (Windows).</p>
<p>A tab named “Untitled1” will appear in your source pane. This is where we are going to write code for today!</p>
<p><img data-src="Additional%20files/images/Untitled1.png"></p>
<p>As any other file, you can later save this file anywhere on your computer. It will have the <em>.R</em> extension.</p>
<center>
<strong>Save the file and name it “Lab_1_code”</strong>
</center>
</div><div class="column" style="width:50%;">
<center>
<p><img data-src="Additional%20files/images/New_R_Script.png" style="width:50.0%"></p>
</center>
</div></div>
</section>
<section id="running-code-and-mathematical-operations" class="slide level2">
<h2>Running Code and Mathematical Operations</h2>
<p>R can perform just about any mathematical operation. At the same time, let’s see how to run some code:</p>
<div class="columns">
<div class="column" style="width:60%;">
<div class="fragment fade-in" data-fragment-index="1">
<p style="font-size:32px;">
In RStudio, you can either run one or more line of code at once, or run the whole R script file at once.
</p>
</div>
<ul style="font-size: 28px;">
<div class="fragment fade-in" data-fragment-index="2">
<li>
<strong>One or more lines</strong>: highlight the lines that you want to run and press <strong>CTRL+Enter</strong> (Windows) or <strong>CMD+Return</strong> (Mac)
</li>
</div>
<div class="fragment fade-in" data-fragment-index="3">
<li>
<strong>Entire Script</strong>: press <strong>CTRL+Shift+Enter</strong> (Windows) or <strong>CMD+Shift+Return</strong> (Mac).
</li>
</div>
</ul>
<p>The <img data-src="Additional%20files/images/runbutton.png" style="width:10.0%"> button will also run the next runnable line of code with respect to your cursor.</p>
<div class="fragment fade-in" data-fragment-index="4">
<center>
Copy the <em>code chunk</em> on the right into your R script and try running the full script.
</center>
</div>
</div><div class="column" style="width:40%;">
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># some basic math operations</span></span>
<span id="cb1-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># addition</span></span>
<span id="cb1-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb1-5"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># multiplication</span></span>
<span id="cb1-7"><a href="" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">*</span><span class="dv">7</span></span>
<span id="cb1-8"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># exponents</span></span>
<span id="cb1-10"><a href="" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">^</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div>
</section>
<section id="output" class="slide level2">
<h2>Output</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>You will see your code with output appear in the console.</p>
<div class="fragment fade-in" data-fragment-index="1">
<p><em>Output</em> is indicated by “[<em>n</em>]”, where <em>n</em> represents the line of the output.</p>
</div>
<div class="fragment fade-in" data-fragment-index="2">
<p>Here we only have one line for output each of our inputs (the 3 math operations), but you can have more lines.</p>
</div>
<p><br></p>
<div class="fragment fade-in" data-fragment-index="3">
<p>The <strong>#</strong> sign represents comments. R will not run commented lines. Comments are good for explaining code to other people reading your code, and more importantly…to the future you!</p>
</div>
</div><div class="column" style="width:40%;">
<p><img data-src="Additional%20files/images/Output_math.png"></p>
</div></div>
</section>
<section id="a-note-on-how-r-interprets-code" class="slide level2">
<h2>A Note on how R Interprets Code</h2>
<p>R “reads” code until it find the end of a <em>statement</em> (code that produces output), and then expects the following statement to appear on a new line.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>For example:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># The line below is a statement and will produce output</span></span>
<span id="cb2-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="" aria-hidden="true" tabindex="-1"></a>(<span class="dv">4</span> <span class="sc">+</span><span class="dv">5</span>)<span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
</div>
<p>However:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># The this will not run (2 statements on the same line)</span></span>
<span id="cb4-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="" aria-hidden="true" tabindex="-1"></a>(<span class="dv">4</span> <span class="sc">+</span> <span class="dv">5</span>)<span class="sc">*</span><span class="dv">2</span>  <span class="dv">6</span><span class="sc">+</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in parse(text = input): &lt;text&gt;:3:12: unexpected numeric constant
2: 
3: (4 + 5)*2  6
              ^</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Spacing among elements of a statement is irrelevant, but it is good practice to be reasonable and consistent.</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># This is not good practice, but it will run.</span></span>
<span id="cb6-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="" aria-hidden="true" tabindex="-1"></a>( <span class="dv">4</span> <span class="sc">+</span></span>
<span id="cb6-4"><a href="" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span> )<span class="sc">*</span>   <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  <span class="sc">+</span></span>
<span id="cb8-2"><a href="" aria-hidden="true" tabindex="-1"></a>   <span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
</div></div>
</section>
<section id="operators" class="slide level2">
<h2>Operators</h2>
<p><em>Operators</em> are symbols that tell R to perform certain actions. Aside from the math operations, the <code>:</code> operator is a bit unique to R.</p>
<div class="columns">
<div class="column" style="width:50%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>+</code></td>
<td>addition</td>
</tr>
<tr class="even">
<td><code>-</code></td>
<td>subtraction</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>multiplication</td>
</tr>
<tr class="even">
<td><code>/</code></td>
<td>division</td>
</tr>
<tr class="odd">
<td><code>^</code></td>
<td>exponentiation</td>
</tr>
<tr class="even">
<td><code>x:y</code></td>
<td>sequence from x to y</td>
</tr>
</tbody>
</table>
</div><div class="column" style="width:50%;">
<p>Although it may no appear so, <code>:</code> turns out to be very convenient in many cases</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>There exist other operators and <em>logical operators</em> as well, but I will talk about them if they come up.</p>
</div></div>
<p><br></p>
<center>
<div style="font-size: 42px">
If you are curious, you can find a more comprehensive list of R operators <a href="https://www.w3schools.com/r/r_operators.asp" target="_blank">here</a>
</div>
</center>
</section>
<section id="objects" class="slide level2">
<h2>Objects</h2>
<p>Just as many other programming languages, R is <strong>object</strong>-oriented. You can think of objects as <u>containers where information is stored</u> (very important concept to remember).</p>
<p>To create an object in R, you use “<strong>&lt;</strong>” + “<strong>-</strong>”, known as the <em>assignment operator</em>:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># This means x "is" (4 +5)*2. you can name objects whatever you want but the name cannot begin with a number or include special characters (?, !, etc...). </span></span>
<span id="cb12-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> (<span class="dv">4</span> <span class="sc">+</span><span class="dv">5</span>)<span class="sc">*</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p style="font-size:28px;">
The keyboard shortcut for the assignment operator is <strong>“alt” + “-”</strong> (Win) or <strong>“Option” + “-”</strong> (Mac).
</p>
</div></div>
<p><br></p>
<div class="columns">
<div class="column" style="width:60%;">
<p>No output is produced. However, you will now see the <code>x</code> object appear in your environment!</p>
<p>R now knows that whenever you write <code>x</code> in your code, you mean <code>18</code>.</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21</code></pre>
</div>
</div>
</div><div class="column" style="width:40%;">
<div class="fragment fade-in" data-fragment-index="3">
<p><img data-src="Additional%20files/images/Object_x.png"></p>
</div>
</div></div>
</section>
<section id="types-of-objects-and-dimensions" class="slide level2">
<h2>Types of Objects and Dimensions</h2>
<p>Just like there are different types of containers (boxes, drawers, fridges, etc…), there are different types of R objects!</p>
<p>The <code>x</code> objects that we just created is a <strong>numeric vector</strong> (type of object) of <strong>length 1</strong> 🤔</p>
<p>A vector is a <strong>one-dimensional</strong> collection of elements. To create a vector with more than one element we can do the following:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># `c()` is a function (more on functions later), and it stands for "concatenate". The `c()` binds elements together.`c()` is probably the most used R function. `y` will be a vector of length 4.</span></span>
<span id="cb15-2"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb15-4"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># math operations can be applied to vectors!</span></span>
<span id="cb15-6"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="" aria-hidden="true" tabindex="-1"></a>y <span class="sc">-</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -2  2  4  6</code></pre>
</div>
</div>
<center>
<p>The concept of <em>dimensions</em> will become clearer later. In the meantime, can you think of some objects that may have more than 1 dimension? 🤓</p>
</center>
</section>
<section id="charcater-objects" class="slide level2">
<h2>Charcater Objects</h2>
<p>So far we have only dealt with numbers, but <em>character</em> objects also come up a lot:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Characters need to be enclosed within "" or ''. This is so that R knows you are not referring to an object ("x" is a character, just x is expected to be an object in your environment)</span></span>
<span id="cb17-2"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"Hello"</span></span>
<span id="cb17-3"><a href="" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hello"</span>, <span class="st">"world"</span>, <span class="st">"what time is it?"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>you cannot apply any math operations to character objects</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># this will not run</span></span>
<span id="cb18-2"><a href="" aria-hidden="true" tabindex="-1"></a>y <span class="sc">-</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in y - 3: non-numeric argument to binary operator</code></pre>
</div>
</div>
<p>Also note that you can create character objects/vectors that have numbers in them, but you will not be able to apply math operations to them:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2"</span>, <span class="st">"23"</span>, <span class="st">"4"</span>)</span>
<span id="cb20-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># this will not run</span></span>
<span id="cb20-3"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> <span class="dv">6</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in x - 6: non-numeric argument to binary operator</code></pre>
</div>
</div>
</section>
<section id="functions" class="slide level2">
<h2>Functions</h2>
<p>A <strong>function</strong> is something that takes one or more objects as <em>input</em> and produces some <em>output</em>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>R interprets anything that stars with letters and is followed by a <code>(</code> as a function, after which it executes the function until the next <code>)</code>.</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">10</span>, <span class="dv">4</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">6</span>)</span>
<span id="cb22-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># `sum()` is a function; x is the input and the sum of the elements of x is the output</span></span>
<span id="cb22-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45</code></pre>
</div>
</div>
<p>R is case sensitive, so <code>Sum()</code> will not work:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># there is no `Sum()` function, only `sum()`</span></span>
<span id="cb24-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">Sum</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in Sum(x): could not find function "Sum"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Functions also have <strong>arguments</strong>, that allow you to tweak what the function does. Here <code>decreasing =</code> is an argument of the <code>sort()</code> function:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># `Sort()`, by default, sorts vectors from smallest to largest (or in alphabetical order if you give it a character!)</span></span>
<span id="cb26-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Here, we use "decreasing = TRUE" to sort from largest to smallest. </span></span>
<span id="cb26-3"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12 11 10  6  4  2</code></pre>
</div>
</div>
</div></div>
<p>Functions are at the core of anything we do in R. We will learn about many more functions as they come up. If you want to get a flavor of what function do, you can find a list <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html" target="_blank">here</a>.</p>
</section>
<section id="the-help-menu" class="slide level2">
<h2>The Help Menu</h2>
<p>Let’s say I ask Google for an R function that sorts vectors and I find the <code>sort()</code> function!…But how do I know about its arguments? How do I know whether it sorts in ascending or descending order by default? How do I know that the function does what <em>I</em> need? 🤔</p>
<center>
This is where RSstudio’s <strong>help menu</strong> comes to the rescue! 😀
</center>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># run the empty function with "?" in front of it to open it's help menu</span></span>
<span id="cb28-2"><a href="" aria-hidden="true" tabindex="-1"></a>?<span class="fu">sort</span>()</span>
<span id="cb28-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively you can also highlight or hover over the function (just the function, not the "()") and press F1.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul style="font-size: 22px;">
<div class="fragment fade-in" data-fragment-index="3">
<li>
<strong>Description</strong>: Brief description of that the function does.
</li>
</div>
<div class="fragment fade-in" data-fragment-index="4">
<li>
<strong>Usage</strong>: Shows default values of arguments (i.e., “decreasing” is set to FALSE unless you say otherwise).
</li>
</div>
<div class="fragment fade-in" data-fragment-index="5">
<li>
<strong>Arguments</strong>: all the function arguments and what each one does!
</li>
</div>
</ul>
<div class="fragment fade-in" data-fragment-index="6">
<p>There’s much more going on here, but notice the <code>{base}</code> after the name of the function. That is the <strong>Package</strong> the function comes from 🧐</p>
</div>
</div><div class="column" style="width:40%;">
<p><img data-src="Additional%20files/images/Help_sort.png" style="width:90.0%"></p>
</div></div>
</section>
<section id="packages" class="slide level2">
<h2>Packages</h2>
<p>Usually, the base R functions are not enough for most of the tasks that one needs to accomplish in R. Often people have to create their own custom functions.</p>
<p>A <strong>package</strong> is simply a collection of functions that other users make for everyone out of the kindness of their heart 🤗</p>
<p>Let us install a package that makes opening data in R very smooth, the <code>rio</code> package <span class="citation" data-cites="becker2024">(<a href="#/references" role="doc-biblioref" onclick="">Becker et al., 2024</a>)</span>:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># This is how you install packages from CRAN (explained below)</span></span>
<span id="cb29-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rio"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment fade-in" data-fragment-index="3">
<p style="font-size:22px;">
The <code>install.packages()</code> function installs packages from the <a href="https://cran.r-project.org" target="_blank">comprehensive R archive network</a> (CRAN). Among other things, CRAN maintains a library of packages made by users.
</p>
</div>
<div class="fragment fade-in" data-fragment-index="4">
<p style="font-size:22px;">
The process to get a package on CRAN is a bit lengthy (and sometimes packages get removed), so some people just upload their packages to <a href="github.com" target="_blank">Github</a>.
</p>
</div>
<div class="fragment fade-in" data-fragment-index="5">
<p style="font-size:22px;">
To see all of the packages installed in your RStudio, you can navigate to your viewer pane and select “packages”.
</p>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="Additional%20files/images/Packages_viewer.png"></p>
</div></div>
</section>
<section id="reading-files-working-directories" class="slide level2">
<h2>Reading files: Working Directories</h2>
<p>We want to open the <strong>World_happiness_2024.csv</strong> data set with the <code>import()</code> function from the <code>rio</code> package. First we download the data (<a href="https://raw.githubusercontent.com/quinix45/PSYC-7804-Regression-Lab-Slides/main/Slides%20Files/Data/World_happiness_2024.csv" target="_blank">click</a> and then save the file). Then we load the <code>rio</code> package:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># to load the functions from a package you need to run the `library(package)` function first</span></span>
<span id="cb30-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rio)</span>
<span id="cb30-3"><a href="" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># rio also suggests to add a few extra packages, so also run the line below. It is the case that packages have functions that use functions from other packages to run, hence why rio suggests to also install other packages here</span></span>
<span id="cb30-5"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">install_formats</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<p>Now, we need to tell R how to find the <code>World_happiness_2024.csv</code> file. Here are a couple of ways of doing this:</p>
</div></div>
<div class="fragment fade-in" data-fragment-index="2">
<ol type="1">
<li><p style="font-size:24px;">
Either you use the absolute file path (i.e., a unique address that identifies the location of all files on your computer)
</p></li>
</ol>
</div>
<div class="fragment fade-in" data-fragment-index="3">
<ol start="2" type="1">
<li><p style="font-size:24px;">
Change your <em>working directory</em> (WD; the default folder where RStudio saves/looks for files) to where the data is (or move the data to your current WD). Your current WD is always displayed at the top of the R console pane next to the R version number.
</p></li>
</ol>
</div>
<p><br></p>
<center>
I will show one quick way of dealing with working directories, which I don’t consider best. My preferred way by far is using <a href="https://support.posit.co/hc/en-us/articles/200526207-Using-RStudio-Projects" target="_blank">RStudio projects</a>, which I may talk about at some point.
</center>
</section>
<section id="setting-working-directory" class="slide level2">
<h2>Setting Working Directory</h2>
<p>You can get your current working directory by running the <code>getwd()</code> function. This is where R currently expects to find files.</p>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># `getwd()` is actually a function that take no input!</span></span>
<span id="cb31-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/fabio/Dropbox/Work/Github repos/Fabio-Setti/static/PSYC6802"</code></pre>
</div>
</div>
<p>I’ll change my current working directory to my Desktop with the <code>setwd()</code> function. This function takes the path to a location on your computer as input. For the Desktop:</p>
<ul style="font-size: 24px">
<li>
<code>setwd("~/Desktop")</code> on Mac
</li>
<li>
<code>setwd("C:/Users/fabio/Desktop")</code> on Windows.
</li>
</ul>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># on windows, change "fabio" to your windows username</span></span>
<span id="cb33-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/fabio/OneDrive/Desktop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<p>Everyone will have something different here</p>
<p><br> <br></p>
<ul style="font-size: 24px">
<li>
For Mac, make sure that files you want to open are stored on your computer and not on the cloud (R does not see files stored on the cloud).
</li>
<li>
OneDrive is really annoying on Windows and puts itself before my Desktop (😤). If you have OneDrive, this will likely happen to you too.
</li>
</ul>
</div></div>
<p>Afterwards, move the <code>World_happiness_2024.csv</code> to your Desktop (which should now be your WD)</p>
</section>
<section id="loading-data-and-looking-at-it" class="slide level2">
<h2>Loading Data and Looking at it</h2>
<p>Now that our working directory is (hopefully) sorted out, we can use the <code>import()</code> function from <code>rio</code> to load our data. Data needs to be saved as a new object, so we use <code>&lt;-</code> to name it:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># I name the data `dat`. an object named `dat` will appear in your environment</span></span>
<span id="cb34-2"><a href="" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">import</span>(<span class="st">"World_happiness_2024.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell code-125">

</div>
<p>This is data from the <a href="https://www.worldhappiness.report/ed/2024" target="_blank">2024 world happiness report</a>. The <code>str()</code> function can be used to get a lot of information about objects:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># you can also click on the `dat` object in your environment to open it in the data viewer mode</span></span>
<span id="cb35-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   140 obs. of  9 variables:
 $ Country_name           : chr  "Finland" "Denmark" "Iceland" "Sweden" ...
 $ Region                 : chr  "Western Europe" "Western Europe" "Western Europe" "Western Europe" ...
 $ Happiness_score        : num  7.74 7.58 7.53 7.34 7.34 ...
 $ Log_GDP                : num  1.84 1.91 1.88 1.88 1.8 ...
 $ Social_support         : num  1.57 1.52 1.62 1.5 1.51 ...
 $ Healthy_life_expectancy: num  0.695 0.699 0.718 0.724 0.74 0.706 0.704 0.708 0.747 0.692 ...
 $ Freedom                : num  0.859 0.823 0.819 0.838 0.641 0.725 0.835 0.801 0.759 0.756 ...
 $ Generosity             : num  0.142 0.204 0.258 0.221 0.153 0.247 0.224 0.146 0.173 0.225 ...
 $ Corruption             : num  0.454 0.452 0.818 0.476 0.807 0.628 0.516 0.568 0.502 0.677 ...</code></pre>
</div>
</div>
</section>
<section id="data.frame-objects" class="slide level2">
<h2><code>data.frame</code> Objects</h2>
<p>Although this information was given to us by the <code>str()</code> function, it is generally useful to first figure out what <em>type of object</em> we are dealing with:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># When things don't work, check that you are using the right object class (e.g., some functions want data.frame objects and not matrix objects, which are pretty similar but not the same)</span></span>
<span id="cb37-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
<p>the <code>dat</code> object is a <code>data.frame</code>. We will come across other type of objects eventually, but <a href="https://www.geeksforgeeks.org/r-language/r-objects" target="_blank">here</a> is a list of common ones.</p>
<div class="columns">
<div class="column" style="width:30%;">
<p>For <code>data.frame</code> objects you can use the <code>$</code> operator to refer to columns.</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># get the mean of the `Happiness_score` column </span></span>
<span id="cb39-2"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(dat<span class="sc">$</span>Happiness_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.530893</code></pre>
</div>
</div>
</div><div class="column" style="width:70%;">
<p>Let’s also count how many countries are in each <code>Region</code>. The <code>table()</code> function is quite useful for counting categories</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>Region)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        Africa           Asia      Caribbean Eastern Europe   Middele East 
            40             22              2             23             11 
 North America        Oceania  South America Western Europe 
             8              2             11             21 </code></pre>
</div>
</div>
</div></div>
</section>
<section id="back-to-dimensions-subsetting" class="slide level2">
<h2>Back to Dimensions: Subsetting</h2>
<p>You may have realized that <code>data.frame</code> objects, unlike vectors, have <em>2 dimensions</em> (2D), <strong>rows</strong> and <strong>columns</strong>.</p>
<p>Now, If objects are containers for information, then there must be a way to extract <em>only some</em> of the information stored in those containers 🧐 This is called <strong>subsetting</strong> (or <strong>indexing</strong>, depends on the context).</p>
<p>You can subset 2D objects by referring to the indices of their dimensions in this way <code>object_name[row number, column number]</code>:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the element of [row 1, column 1] of the `dat` object</span></span>
<span id="cb43-2"><a href="" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">1</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Finland"</code></pre>
</div>
</div>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># You can select the entire 2nd row of the "dat" object. If you leave a dimension empty when subsetting, it means "all of this dimension".</span></span>
<span id="cb45-2"><a href="" aria-hidden="true" tabindex="-1"></a>dat[<span class="dv">2</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Country_name         Region Happiness_score Log_GDP Social_support
2      Denmark Western Europe           7.583   1.908           1.52
  Healthy_life_expectancy Freedom Generosity Corruption
2                   0.699   0.823      0.204      0.452</code></pre>
</div>
</div>
</section>
<section id="more-subsetting-examples" class="slide level2">
<h2>More Subsetting Examples</h2>
<p>You can modify specific elements like so:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># You can remove (or substitute!) elements in this way. The "dat_2" object will be "dat" without the first row. `nrow()` counts the rows of a 2D object. </span></span>
<span id="cb47-2"><a href="" aria-hidden="true" tabindex="-1"></a>dat_2 <span class="ot">&lt;-</span> dat[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb47-3"><a href="" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(dat_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 139</code></pre>
</div>
</div>
<p>You can also select non-adjacent elements:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># You refer to non-adjacent columns/rows through the `c()` function. This selects element 1,4,6 of column 6 of the `dat` object</span></span>
<span id="cb49-2"><a href="" aria-hidden="true" tabindex="-1"></a>dat[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">6</span>) ,<span class="dv">6</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.695 0.724 0.706</code></pre>
</div>
</div>
<p>…and the 1D case follows a similar logic:</p>
<div class="cell code-125">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="" aria-hidden="true" tabindex="-1"></a><span class="co"># To subset 1D elements, you simply do this. Here, I get the 5th element of the `x` object</span></span>
<span id="cb51-2"><a href="" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">23</span>)</span>
<span id="cb51-3"><a href="" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 23</code></pre>
</div>
</div>
</section>
<section id="is-all-of-this-worth-your-time" class="slide level2">
<h2>Is all of this worth Your Time?</h2>
<p>I often get students telling me that “they prefer SPSS” (my nemesis 🙃). Normally, I would go on a 20 minutes rant about this, but some like-minded people have done that in this <a href="https://www.reddit.com/r/statistics/comments/8dy3aj/spss_v_sas_v_stata" target="_blank">pretty funny reddit post</a></p>
<p>Some other reasons for adopting R:</p>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><strong>Free:</strong> R is free and will always be. SPSS and the like charge ridiculous amounts for licenses. (support free stuff, knowledge should be accessible)</p></li>
<li><p><strong>Reproducibility:</strong> Ever heard of the <a href="https://en.wikipedia.org/wiki/Replication_crisis" target="_blank">replication crisis</a>? R makes it much easier to share code and analyses so that results can be reproduced and checked thoroughly.</p></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><p><strong>Open source:</strong> There are thousands of people constantly working on R packages, expanding R’s features every day.</p></li>
<li><p><strong>Flexibility:</strong> R can do just about anything you need. Whereas if you use other software like SPSS, you will likely hit a wall because you need to do something that the software does not allow you to do.</p></li>
</ul>
</div></div>
<p><br></p>
<center>
Learning R may be hard at first, but please believe me when I say that it will be well worth in the end 🤗
</center>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-becker2024" class="csl-entry" role="listitem">
Becker, J., Chan, C., Schoch, D., Chan, G. C., Leeper, T. J., Gandrud, C., MacDonald, A., Zahn, I., Stadlmann, S., Williamson, R., Kennedy, P., Price, R., Davis, T. L., Day, N., Denney, B., Bokov, A., &amp; Gruson, H. (2024). <em>Rio: <span>A Swiss-Army Knife</span> for <span>Data I</span>/<span>O</span></em>.
</div>
</div>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>PSYC 6802 - Lab 1: Introduction to R</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Lab_1_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Lab_1_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Lab_1_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Lab_1_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>